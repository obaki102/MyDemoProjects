@page "/index"
@inject AuthenticationStateProvider AuthenticationStateProvider
<AuthorizeView>

    <Authorized>
        <MudText Typo="Typo.h3" GutterBottom="true">Authorized!</MudText>
        <MudText Class="mb-8">@username</MudText>
    </Authorized>
    <NotAuthorized>
        <MudText Typo="Typo.h3" GutterBottom="true">NOT Authorized!</MudText>
    </NotAuthorized>


</AuthorizeView>

@code{
    private string username = string.Empty;
    protected override async Task OnInitializedAsync()
    {

        var authSate = await AuthenticationStateProvider.GetAuthenticationStateAsync();
        username = authSate.User.Identity?.Name;
    }
}